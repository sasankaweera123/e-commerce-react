"use strict";(self.webpackChunke_commerce_react=self.webpackChunke_commerce_react||[]).push([[408],{3027:(e,s,n)=>{n.r(s),n.d(s,{default:()=>h});var t=n(5043),a=n(7154),o=n(7063),r=n(579);const i=()=>{const[e,s]=(0,t.useState)({email:"",password:"",confirmPassword:""}),n=n=>{s({...e,[n.target.name]:n.target.value})},i=e=>{const s=document.getElementById(e);"password"===s.type?s.type="text":s.type="password"};return(0,r.jsx)("div",{children:(0,r.jsxs)("form",{onSubmit:s=>{s.preventDefault(),e.password===e.confirmPassword?(a.A.post(o.U.SIGN_UP,e).then((e=>{console.log(e),alert("User created"),document.getElementById("Signemail").value="",document.getElementById("SignPassword").value="",document.getElementById("confirm-password").value=""})).catch((e=>{console.log(e)})),console.log(e)):alert("Passwords do not match")},children:[(0,r.jsx)("h1",{children:"Sign Up"}),(0,r.jsxs)("div",{className:"form-field",children:[(0,r.jsx)("label",{htmlFor:"Signemail",children:"Email"}),(0,r.jsx)("input",{id:"Signemail",type:"email",name:"email",value:e.email,onChange:n})]}),(0,r.jsxs)("div",{className:"form-field",children:[(0,r.jsx)("label",{htmlFor:"SignPassword",children:"Password"}),(0,r.jsx)("input",{id:"SignPassword",type:"password",name:"password",value:e.password,onChange:n}),(0,r.jsx)("button",{type:"button",onClick:()=>i("SignPassword"),children:"Show"})]}),(0,r.jsxs)("div",{className:"form-field",children:[(0,r.jsx)("label",{htmlFor:"confirm-password",children:"Confirm Password"}),(0,r.jsx)("input",{id:"confirm-password",type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:n}),(0,r.jsx)("button",{type:"button",onClick:()=>i("confirm-password"),children:"Show"})]}),(0,r.jsx)("button",{type:"submit",children:"Sign Up"})]})})};var l=n(8819),d=n(7420);const c=()=>{const{loggedUserDetails:e}=(0,t.useContext)(d.t),[s,n]=(0,t.useState)({email:"",password:""}),i=(0,l.A)(),c=e=>{n({...s,[e.target.name]:e.target.value})};return(0,r.jsx)("div",{children:(0,r.jsxs)("form",{onSubmit:n=>{n.preventDefault(),a.A.post(o.U.LOGIN,s).then((n=>{console.log(n),i({auth:{token:n.data.access_token,type:"Bearer"},userState:{email:s.email}}),a.A.get(o.U.GET_USER,{headers:{Authorization:"Bearer ".concat(n.data.access_token)}}).then((s=>{console.log(s.data),e(s.data),"admin"===s.data.role?window.location.href=o.U.ADMIN_HOME:window.location.href=o.U.HOME})).catch((e=>{console.log(e)}))})).catch((e=>{console.log(e)}))},children:[(0,r.jsx)("h1",{children:"Sign In"}),(0,r.jsxs)("div",{className:"form-field",children:[(0,r.jsx)("label",{htmlFor:"loginEmail",children:"Email"}),(0,r.jsx)("input",{id:"loginEmail",type:"email",name:"email",value:s.email,onChange:c})]}),(0,r.jsxs)("div",{className:"form-field",children:[(0,r.jsx)("label",{htmlFor:"loginPassword",children:"Password"}),(0,r.jsx)("input",{id:"loginPassword",type:"password",name:"password",value:s.password,onChange:c}),(0,r.jsx)("button",{type:"button",onClick:()=>{"password"===document.getElementById("loginPassword").type?document.getElementById("loginPassword").type="text":document.getElementById("loginPassword").type="password"},children:"Show"})]}),(0,r.jsx)("button",{type:"submit",children:"Sign In"})]})})};var m=n(1440);const h=()=>{const e=(0,m.A)();return(0,r.jsxs)("div",{className:"sign-in-up-page ".concat(e?"hidden-sign-in":""),children:[(0,r.jsx)("div",{className:"sign-up",children:(0,r.jsx)(i,{})}),(0,r.jsx)("div",{className:"sign-in",children:(0,r.jsx)(c,{})})]})}},8819:(e,s,n)=>{s.A=void 0;var t,a=n(5043),o=(t=n(9764))&&t.__esModule?t:{default:t},r=n(8426),i=n(6874);s.A=function(){var e=(0,a.useContext)(o.default);if(null===e)throw new i.AuthError("Auth Provider is missing. Make sure, you are using this hook inside the auth provider.");return function(s){if(e.value.isUsingRefreshToken){if(s.refresh)return e.set((0,r.doSignIn)(s)),!0;throw new i.AuthError("This appication is using refresh token feature. So please include `refresh` param in the parameters")}if(s.refresh)throw new i.AuthError("This appication is not using refresh token feature. So please remove the `refresh` param in the parameters. In Case you want to use refresh token feature, make sure you added that while creating the store.");return e.set((0,r.doSignIn)(s)),!0}}}}]);
//# sourceMappingURL=408.8a7150c3.chunk.js.map