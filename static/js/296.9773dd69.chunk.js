"use strict";(self.webpackChunke_commerce_react=self.webpackChunke_commerce_react||[]).push([[296],{9296:(e,a,s)=>{s.r(a),s.d(a,{default:()=>u});var r=s(5043),o=s(7420),t=s(8628),l=s(7063),n=s(4282),c=s(1395),i=s(7154),d=s(579);const m=()=>{const{users:e}=(0,r.useContext)(o.t),[a,s]=(0,r.useState)(!1),[m,u]=(0,r.useState)({id:"",name:"",email:"",role:""}),f=e=>{u({...m,[e.target.name]:e.target.value})};return(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"user-cards",children:e.map((a=>(0,d.jsx)("div",{className:"user-".concat(a.id),id:"user-".concat(a.id),children:(0,d.jsxs)(t.A,{style:{width:"18rem"},children:[(0,d.jsx)(t.A.Img,{variant:"top",src:a.avatar?a.avatar:l.U.PLACEHOLDER_IMAGE}),(0,d.jsxs)(t.A.Body,{children:[(0,d.jsx)(t.A.Title,{children:a.name}),(0,d.jsx)(t.A.Text,{children:a.email}),(0,d.jsx)(t.A.Text,{children:a.role}),(0,d.jsx)(n.A,{variant:"primary",onClick:()=>(a=>{s(!0);const r=e.find((e=>e.id===a));u({id:r.id,name:r.name,email:r.email,role:r.role})})(a.id),children:"Edit"}),(0,d.jsx)(n.A,{variant:"danger",onClick:()=>{return e=a.id,void i.A.delete(l.U.DELETE_USER+e).then((a=>{console.log(a),alert("User removed"),document.getElementById("user-".concat(e)).remove()})).catch((e=>{console.log(e)}));var e},children:"Remove"})]})]})},a.id)))}),(0,d.jsxs)(c.A,{show:a,onHide:()=>s(!1),children:[(0,d.jsx)(c.A.Header,{closeButton:!0,children:(0,d.jsx)(c.A.Title,{children:"Edit User"})}),(0,d.jsx)(c.A.Body,{children:(0,d.jsxs)("form",{onSubmit:e=>{e.preventDefault();const a={id:m.id,name:m.name,email:m.email,role:m.role};i.A.put("".concat(l.U.UPDATE_USER).concat(m.id),a).then((e=>{console.log(e),alert("User updated"),s(!1)})).catch((e=>{console.log(e)}))},children:[(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"name",children:"Name"}),(0,d.jsx)("input",{type:"text",className:"form-control",id:"name",value:m.name,onChange:f})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"email",children:"Email"}),(0,d.jsx)("input",{type:"email",className:"form-control",id:"email",value:m.email,onChange:f})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"role",children:"Role"}),(0,d.jsx)("input",{type:"text",className:"form-control",id:"role",value:m.role,onChange:f})]}),(0,d.jsx)(n.A,{variant:"primary",type:"submit",children:"Submit"})]})})]})]})};s(4702);const u=()=>{const[e,a]=(0,r.useState)({name:"",email:"",role:""}),{isAdmin:s}=(0,r.useContext)(o.t),[t,u]=(0,r.useState)(!1),f=s=>{a({...e,[s.target.name]:s.target.value})};return(0,d.jsxs)("div",{className:s?"":"admin-pages",children:[(0,d.jsx)("h1",{children:"Admin Users"}),(0,d.jsx)(n.A,{onClick:()=>{u(!0)},children:"Add User"}),(0,d.jsx)("div",{className:"user-cards container",children:(0,d.jsx)(m,{})}),(0,d.jsxs)(c.A,{show:t,onHide:()=>u(!1),children:[(0,d.jsx)(c.A.Header,{closeButton:!0,children:(0,d.jsx)(c.A.Title,{children:"Add User"})}),(0,d.jsx)(c.A.Body,{children:(0,d.jsxs)("form",{onSubmit:a=>{a.preventDefault(),i.A.post(l.U.ADD_USER,e).then((e=>{console.log(e),alert("User added"),window.location.reload()})).catch((e=>{console.log(e)}))},children:[(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"name",children:"Name"}),(0,d.jsx)("input",{type:"text",name:"name",id:"name",className:"form-control",value:e.name,onChange:f})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"email",children:"Email"}),(0,d.jsx)("input",{type:"email",name:"email",id:"email",className:"form-control",value:e.email,onChange:f})]}),(0,d.jsxs)("div",{className:"form-group",children:[(0,d.jsx)("label",{htmlFor:"role",children:"Role"}),(0,d.jsxs)("select",{name:"role",id:"role",className:"form-control",value:e.role,onChange:f,children:[(0,d.jsx)("option",{value:"USER",children:"USER"}),(0,d.jsx)("option",{value:"ADMIN",children:"ADMIN"})]})]}),(0,d.jsx)(n.A,{type:"submit",children:"Add User"})]})})]})]})}},4282:(e,a,s)=>{s.d(a,{A:()=>d});var r=s(8139),o=s.n(r),t=s(5043),l=s(4140),n=s(7852),c=s(579);const i=t.forwardRef(((e,a)=>{let{as:s,bsPrefix:r,variant:t="primary",size:i,active:d=!1,disabled:m=!1,className:u,...f}=e;const x=(0,n.oU)(r,"btn"),[h,{tagName:N}]=(0,l.Am)({tagName:s,disabled:m,...f}),b=N;return(0,c.jsx)(b,{...h,...f,ref:a,disabled:m,className:o()(u,x,d&&"active",t&&"".concat(x,"-").concat(t),i&&"".concat(x,"-").concat(i),f.href&&m&&"disabled")})}));i.displayName="Button";const d=i},8628:(e,a,s)=>{s.d(a,{A:()=>k});var r=s(8139),o=s.n(r),t=s(5043),l=s(7852),n=s(579);const c=t.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:t="div",...c}=e;return r=(0,l.oU)(r,"card-body"),(0,n.jsx)(t,{ref:a,className:o()(s,r),...c})}));c.displayName="CardBody";const i=c,d=t.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:t="div",...c}=e;return r=(0,l.oU)(r,"card-footer"),(0,n.jsx)(t,{ref:a,className:o()(s,r),...c})}));d.displayName="CardFooter";const m=d;var u=s(1778);const f=t.forwardRef(((e,a)=>{let{bsPrefix:s,className:r,as:c="div",...i}=e;const d=(0,l.oU)(s,"card-header"),m=(0,t.useMemo)((()=>({cardHeaderBsPrefix:d})),[d]);return(0,n.jsx)(u.A.Provider,{value:m,children:(0,n.jsx)(c,{ref:a,...i,className:o()(r,d)})})}));f.displayName="CardHeader";const x=f,h=t.forwardRef(((e,a)=>{let{bsPrefix:s,className:r,variant:t,as:c="img",...i}=e;const d=(0,l.oU)(s,"card-img");return(0,n.jsx)(c,{ref:a,className:o()(t?"".concat(d,"-").concat(t):d,r),...i})}));h.displayName="CardImg";const N=h,b=t.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:t="div",...c}=e;return r=(0,l.oU)(r,"card-img-overlay"),(0,n.jsx)(t,{ref:a,className:o()(s,r),...c})}));b.displayName="CardImgOverlay";const j=b,p=t.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:t="a",...c}=e;return r=(0,l.oU)(r,"card-link"),(0,n.jsx)(t,{ref:a,className:o()(s,r),...c})}));p.displayName="CardLink";const v=p;var g=s(4488);const A=(0,g.A)("h6"),y=t.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:t=A,...c}=e;return r=(0,l.oU)(r,"card-subtitle"),(0,n.jsx)(t,{ref:a,className:o()(s,r),...c})}));y.displayName="CardSubtitle";const w=y,U=t.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:t="p",...c}=e;return r=(0,l.oU)(r,"card-text"),(0,n.jsx)(t,{ref:a,className:o()(s,r),...c})}));U.displayName="CardText";const R=U,C=(0,g.A)("h5"),E=t.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:t=C,...c}=e;return r=(0,l.oU)(r,"card-title"),(0,n.jsx)(t,{ref:a,className:o()(s,r),...c})}));E.displayName="CardTitle";const P=E,T=t.forwardRef(((e,a)=>{let{bsPrefix:s,className:r,bg:t,text:c,border:d,body:m=!1,children:u,as:f="div",...x}=e;const h=(0,l.oU)(s,"card");return(0,n.jsx)(f,{ref:a,...x,className:o()(r,h,t&&"bg-".concat(t),c&&"text-".concat(c),d&&"border-".concat(d)),children:m?(0,n.jsx)(i,{children:u}):u})}));T.displayName="Card";const k=Object.assign(T,{Img:N,Title:P,Subtitle:w,Body:i,Link:v,Text:R,Header:x,Footer:m,ImgOverlay:j})},1395:(e,a,s)=>{s.d(a,{A:()=>I});var r,o=s(8139),t=s.n(o),l=s(3043),n=s(8279),c=s(182),i=s(8260);function d(e){if((!r&&0!==r||e)&&n.A){var a=document.createElement("div");a.style.position="absolute",a.style.top="-9999px",a.style.width="50px",a.style.height="50px",a.style.overflow="scroll",document.body.appendChild(a),r=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return r}var m=s(2667),u=s(1456),f=s(8293),x=s(9109),h=s(4232),N=s(5043),b=s(2706),j=s(5675),p=s(8072),v=s(6581),g=s(1602),A=s(7852),y=s(579);const w=N.forwardRef(((e,a)=>{let{bsPrefix:s,className:r,contentClassName:o,centered:l,size:n,fullscreen:c,children:i,scrollable:d,...m}=e;s=(0,A.oU)(s,"modal");const u="".concat(s,"-dialog"),f="string"===typeof c?"".concat(s,"-fullscreen-").concat(c):"".concat(s,"-fullscreen");return(0,y.jsx)("div",{...m,ref:a,className:t()(u,r,n&&"".concat(s,"-").concat(n),l&&"".concat(u,"-centered"),d&&"".concat(u,"-scrollable"),c&&f),children:(0,y.jsx)("div",{className:t()("".concat(s,"-content"),o),children:i})})}));w.displayName="ModalDialog";const U=w,R=N.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:o="div",...l}=e;return r=(0,A.oU)(r,"modal-footer"),(0,y.jsx)(o,{ref:a,className:t()(s,r),...l})}));R.displayName="ModalFooter";const C=R;var E=s(1833);const P=N.forwardRef(((e,a)=>{let{bsPrefix:s,className:r,closeLabel:o="Close",closeButton:l=!1,...n}=e;return s=(0,A.oU)(s,"modal-header"),(0,y.jsx)(E.A,{ref:a,...n,className:t()(r,s),closeLabel:o,closeButton:l})}));P.displayName="ModalHeader";const T=P;const k=(0,s(4488).A)("h4"),S=N.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:o=k,...l}=e;return r=(0,A.oU)(r,"modal-title"),(0,y.jsx)(o,{ref:a,className:t()(s,r),...l})}));S.displayName="ModalTitle";const D=S;function F(e){return(0,y.jsx)(p.A,{...e,timeout:null})}function B(e){return(0,y.jsx)(p.A,{...e,timeout:null})}const H=N.forwardRef(((e,a)=>{let{bsPrefix:s,className:r,style:o,dialogClassName:p,contentClassName:v,children:w,dialogAs:R=U,"data-bs-theme":C,"aria-labelledby":E,"aria-describedby":P,"aria-label":T,show:k=!1,animation:S=!0,backdrop:D=!0,keyboard:H=!0,onEscapeKeyDown:I,onShow:M,onHide:O,container:_,autoFocus:L=!0,enforceFocus:z=!0,restoreFocus:W=!0,restoreFocusOptions:K,onEntered:G,onExit:q,onExiting:J,onEnter:Q,onEntering:V,onExited:X,backdropClassName:Y,manager:Z,...$}=e;const[ee,ae]=(0,N.useState)({}),[se,re]=(0,N.useState)(!1),oe=(0,N.useRef)(!1),te=(0,N.useRef)(!1),le=(0,N.useRef)(null),[ne,ce]=(0,m.A)(),ie=(0,f.A)(a,ce),de=(0,u.A)(O),me=(0,A.Wz)();s=(0,A.oU)(s,"modal");const ue=(0,N.useMemo)((()=>({onHide:de})),[de]);function fe(){return Z||(0,j.R)({isRTL:me})}function xe(e){if(!n.A)return;const a=fe().getScrollbarWidth()>0,s=e.scrollHeight>(0,c.A)(e).documentElement.clientHeight;ae({paddingRight:a&&!s?d():void 0,paddingLeft:!a&&s?d():void 0})}const he=(0,u.A)((()=>{ne&&xe(ne.dialog)}));(0,x.A)((()=>{(0,i.A)(window,"resize",he),null==le.current||le.current()}));const Ne=()=>{oe.current=!0},be=e=>{oe.current&&ne&&e.target===ne.dialog&&(te.current=!0),oe.current=!1},je=()=>{re(!0),le.current=(0,h.A)(ne.dialog,(()=>{re(!1)}))},pe=e=>{"static"!==D?te.current||e.target!==e.currentTarget?te.current=!1:null==O||O():(e=>{e.target===e.currentTarget&&je()})(e)},ve=(0,N.useCallback)((e=>(0,y.jsx)("div",{...e,className:t()("".concat(s,"-backdrop"),Y,!S&&"show")})),[S,Y,s]),ge={...o,...ee};ge.display="block";return(0,y.jsx)(g.A.Provider,{value:ue,children:(0,y.jsx)(b.A,{show:k,ref:ie,backdrop:D,container:_,keyboard:!0,autoFocus:L,enforceFocus:z,restoreFocus:W,restoreFocusOptions:K,onEscapeKeyDown:e=>{H?null==I||I(e):(e.preventDefault(),"static"===D&&je())},onShow:M,onHide:O,onEnter:(e,a)=>{e&&xe(e),null==Q||Q(e,a)},onEntering:(e,a)=>{null==V||V(e,a),(0,l.Ay)(window,"resize",he)},onEntered:G,onExit:e=>{null==le.current||le.current(),null==q||q(e)},onExiting:J,onExited:e=>{e&&(e.style.display=""),null==X||X(e),(0,i.A)(window,"resize",he)},manager:fe(),transition:S?F:void 0,backdropTransition:S?B:void 0,renderBackdrop:ve,renderDialog:e=>(0,y.jsx)("div",{role:"dialog",...e,style:ge,className:t()(r,s,se&&"".concat(s,"-static"),!S&&"show"),onClick:D?pe:void 0,onMouseUp:be,"data-bs-theme":C,"aria-label":T,"aria-labelledby":E,"aria-describedby":P,children:(0,y.jsx)(R,{...$,onMouseDown:Ne,className:p,contentClassName:v,children:w})})})})}));H.displayName="Modal";const I=Object.assign(H,{Body:v.A,Header:T,Title:D,Footer:C,Dialog:U,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},6581:(e,a,s)=>{s.d(a,{A:()=>i});var r=s(5043),o=s(8139),t=s.n(o),l=s(7852),n=s(579);const c=r.forwardRef(((e,a)=>{let{className:s,bsPrefix:r,as:o="div",...c}=e;return r=(0,l.oU)(r,"modal-body"),(0,n.jsx)(o,{ref:a,className:t()(s,r),...c})}));c.displayName="ModalBody";const i=c},4702:()=>{}}]);
//# sourceMappingURL=296.9773dd69.chunk.js.map