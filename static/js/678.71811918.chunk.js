"use strict";(self.webpackChunke_commerce_react=self.webpackChunke_commerce_react||[]).push([[678],{8678:(e,r,a)=>{a.r(r),a.d(r,{default:()=>H});var t=a(5043),s=a(7420),l=a(7063),o=a(4282),n=a(1395),i=a(7154),c=a(8628),d=a(8587),m=a(8168),u=a(8387),h=a(8606),v=a(4116);var p=a(4535),f=a(9662),x=a(579);const A=(0,f.A)((0,x.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var g=a(7056),j=a(2400);function y(e){return(0,j.Ay)("MuiAvatar",e)}(0,g.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var N=a(7042);function b(e){if(void 0===e)return{};const r={};return Object.keys(e).filter((r=>!(r.match(/^on[A-Z]/)&&"function"===typeof e[r]))).forEach((a=>{r[a]=e[a]})),r}function S(e){const{getSlotProps:r,additionalProps:a,externalSlotProps:t,externalForwardedProps:s,className:l}=e;if(!r){const e=(0,u.A)(null==a?void 0:a.className,l,null==s?void 0:s.className,null==t?void 0:t.className),r=(0,m.A)({},null==a?void 0:a.style,null==s?void 0:s.style,null==t?void 0:t.style),o=(0,m.A)({},a,s,t);return e.length>0&&(o.className=e),Object.keys(r).length>0&&(o.style=r),{props:o,internalRef:void 0}}const o=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const a={};return Object.keys(e).filter((a=>a.match(/^on[A-Z]/)&&"function"===typeof e[a]&&!r.includes(a))).forEach((r=>{a[r]=e[r]})),a}((0,m.A)({},s,t)),n=b(t),i=b(s),c=r(o),d=(0,u.A)(null==c?void 0:c.className,null==a?void 0:a.className,l,null==s?void 0:s.className,null==t?void 0:t.className),h=(0,m.A)({},null==c?void 0:c.style,null==a?void 0:a.style,null==s?void 0:s.style,null==t?void 0:t.style),v=(0,m.A)({},c,a,i,n);return d.length>0&&(v.className=d),Object.keys(h).length>0&&(v.style=h),{props:v,internalRef:c.ref}}const w=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],k=["component","slots","slotProps"],P=["component"];function E(e,r){const{className:a,elementType:t,ownerState:s,externalForwardedProps:l,getSlotOwnerState:o,internalForwardedProps:n}=r,i=(0,d.A)(r,w),{component:c,slots:u={[e]:void 0},slotProps:h={[e]:void 0}}=l,v=(0,d.A)(l,k),p=u[e]||t,f=function(e,r,a){return"function"===typeof e?e(r,a):e}(h[e],s),x=S((0,m.A)({className:a},i,{externalForwardedProps:"root"===e?v:void 0,externalSlotProps:f})),{props:{component:A},internalRef:g}=x,j=(0,d.A)(x.props,P),y=(0,N.A)(g,null==f?void 0:f.ref,r.ref),b=o?o(j):{},E=(0,m.A)({},s,b),R="root"===e?A||c:A,C=function(e,r,a){return void 0===e||"string"===typeof e?r:(0,m.A)({},r,{ownerState:(0,m.A)({},r.ownerState,a)})}(p,(0,m.A)({},"root"===e&&!c&&!u[e]&&n,"root"!==e&&!u[e]&&n,j,R&&{as:R},{ref:y}),E);return Object.keys(b).forEach((e=>{delete C[e]})),[p,C]}const R=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],C=v.A,U=(0,p.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:a}=e;return[r.root,r[a.variant],a.colorDefault&&r.colorDefault]}})((e=>{let{theme:r}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(r.vars||r).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,m.A)({color:(r.vars||r).palette.background.default},r.vars?{backgroundColor:r.vars.palette.Avatar.defaultBg}:(0,m.A)({backgroundColor:r.palette.grey[400]},r.applyStyles("dark",{backgroundColor:r.palette.grey[600]})))}]}})),D=(0,p.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,r)=>r.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),F=(0,p.Ay)(A,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,r)=>r.fallback})({width:"75%",height:"75%"});const M=t.forwardRef((function(e,r){const a=C({props:e,name:"MuiAvatar"}),{alt:s,children:l,className:o,component:n="div",slots:i={},slotProps:c={},imgProps:v,sizes:p,src:f,srcSet:A,variant:g="circular"}=a,j=(0,d.A)(a,R);let N=null;const b=function(e){let{crossOrigin:r,referrerPolicy:a,src:s,srcSet:l}=e;const[o,n]=t.useState(!1);return t.useEffect((()=>{if(!s&&!l)return;n(!1);let e=!0;const t=new Image;return t.onload=()=>{e&&n("loaded")},t.onerror=()=>{e&&n("error")},t.crossOrigin=r,t.referrerPolicy=a,t.src=s,l&&(t.srcset=l),()=>{e=!1}}),[r,a,s,l]),o}((0,m.A)({},v,{src:f,srcSet:A})),S=f||A,w=S&&"error"!==b,k=(0,m.A)({},a,{colorDefault:!w,component:n,variant:g}),P=(e=>{const{classes:r,variant:a,colorDefault:t}=e,s={root:["root",a,t&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,h.A)(s,y,r)})(k),[M,O]=E("img",{className:P.img,elementType:D,externalForwardedProps:{slots:i,slotProps:{img:(0,m.A)({},v,c.img)}},additionalProps:{alt:s,src:f,srcSet:A,sizes:p},ownerState:k});return N=w?(0,x.jsx)(M,(0,m.A)({},O)):l||0===l?l:S&&s?s[0]:(0,x.jsx)(F,{ownerState:k,className:P.fallback}),(0,x.jsx)(U,(0,m.A)({as:n,ownerState:k,className:(0,u.A)(P.root,o),ref:r},j,{children:N}))}));var O=a(7022),z=a(7179);const T=()=>{const{users:e}=(0,t.useContext)(s.t),[r,a]=(0,t.useState)(!1),[d,m]=(0,t.useState)({id:"",name:"",email:"",role:""}),u=e=>{m({[e.target.name]:e.target.value})};return(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:"user-cards",children:e.map((r=>(0,x.jsx)("div",{className:"user-".concat(r.id),id:"user-".concat(r.id),children:(0,x.jsxs)(c.A,{style:{width:"30rem"},className:"avatar-card",bg:"dark",text:"white",border:"secondary",children:[(0,x.jsx)(M,{alt:r.name,src:r.avatar?r.avatar:l.U.PLACEHOLDER_IMAGE,sx:{width:150,height:150}}),(0,x.jsxs)("div",{className:"card-body",children:[(0,x.jsx)(c.A.Title,{children:r.name}),(0,x.jsx)(c.A.Text,{children:r.email}),(0,x.jsx)(c.A.Text,{children:r.role}),(0,x.jsxs)("div",{className:"button-group",children:[(0,x.jsxs)(o.A,{variant:"primary",onClick:()=>(r=>{a(!0);const t=e.find((e=>e.id===r));m({id:t.id,name:t.name,email:t.email,role:t.role})})(r.id),children:[(0,x.jsx)("span",{children:(0,x.jsx)(O.A,{})}),"Edit"]}),(0,x.jsxs)(o.A,{variant:"danger",onClick:()=>{return e=r.id,void i.A.delete(l.U.DELETE_USER+e).then((r=>{console.log(r),alert("User removed"),document.getElementById("user-".concat(e)).remove()})).catch((e=>{console.log(e)}));var e},children:[(0,x.jsx)("span",{children:(0,x.jsx)(z.A,{})}),"Remove"]})]})]})]})},r.id)))}),(0,x.jsxs)(n.A,{show:r,onHide:()=>a(!1),children:[(0,x.jsx)(n.A.Header,{closeButton:!0,className:"user-modal",children:(0,x.jsx)(n.A.Title,{children:"Edit User"})}),(0,x.jsx)(n.A.Body,{className:"user-modal",children:(0,x.jsxs)("form",{onSubmit:e=>{e.preventDefault();const r={id:d.id,name:d.name,email:d.email,role:d.role};i.A.put("".concat(l.U.UPDATE_USER).concat(d.id),r).then((e=>{console.log(e),alert("User updated"),a(!1)})).catch((e=>{console.log(e)}))},className:"user-form",children:[(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"name",children:"Name"}),(0,x.jsx)("input",{type:"text",className:"form-control",id:"name",value:d.name,onChange:u})]}),(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"email",children:"Email"}),(0,x.jsx)("input",{type:"email",className:"form-control",id:"email",value:d.email,onChange:u})]}),(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"role",children:"Role"}),(0,x.jsx)("input",{type:"text",className:"form-control",id:"role",value:d.role,onChange:u})]}),(0,x.jsx)(o.A,{variant:"primary",type:"submit",children:"Submit"})]})})]})]})};a(4702),a(3871);const H=()=>{const[e,r]=(0,t.useState)({name:"",email:"",role:""}),{isAdmin:a}=(0,t.useContext)(s.t),[c,d]=(0,t.useState)(!1),m=a=>{r({...e,[a.target.name]:a.target.value})};return(0,x.jsxs)("div",{className:a?"":"admin-pages",children:[(0,x.jsx)("div",{className:"container admin-user",children:(0,x.jsx)("h1",{children:"Admin Users"})}),(0,x.jsx)(o.A,{onClick:()=>{d(!0)},className:"add-user",children:"Add User"}),(0,x.jsx)("div",{className:"user-cards container",children:(0,x.jsx)(T,{})}),(0,x.jsxs)(n.A,{show:c,onHide:()=>d(!1),children:[(0,x.jsx)(n.A.Header,{closeButton:!0,className:"user-modal",children:(0,x.jsx)(n.A.Title,{children:"Add User"})}),(0,x.jsx)(n.A.Body,{className:"user-modal",children:(0,x.jsxs)("form",{onSubmit:r=>{r.preventDefault(),i.A.post(l.U.ADD_USER,e).then((e=>{console.log(e),alert("User added"),window.location.reload()})).catch((e=>{console.log(e)}))},className:"user-form",children:[(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"name",children:"Name"}),(0,x.jsx)("input",{type:"text",name:"name",id:"name",className:"form-control",value:e.name,onChange:m})]}),(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"email",children:"Email"}),(0,x.jsx)("input",{type:"email",name:"email",id:"email",className:"form-control",value:e.email,onChange:m})]}),(0,x.jsxs)("div",{className:"form-group",children:[(0,x.jsx)("label",{htmlFor:"role",children:"Role"}),(0,x.jsxs)("select",{name:"role",id:"role",className:"form-control",value:e.role,onChange:m,children:[(0,x.jsx)("option",{value:"USER",children:"USER"}),(0,x.jsx)("option",{value:"ADMIN",children:"ADMIN"})]})]}),(0,x.jsx)(o.A,{type:"submit",children:"Add User"})]})})]})]})}},7179:(e,r,a)=>{var t=a(4994);r.A=void 0;var s=t(a(39)),l=a(579);r.A=(0,s.default)((0,l.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutlineOutlined")},7022:(e,r,a)=>{var t=a(4994);r.A=void 0;var s=t(a(39)),l=a(579);r.A=(0,s.default)((0,l.jsx)("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined")},3871:()=>{},4702:()=>{}}]);
//# sourceMappingURL=678.71811918.chunk.js.map