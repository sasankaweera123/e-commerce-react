"use strict";(self.webpackChunke_commerce_react=self.webpackChunke_commerce_react||[]).push([[651],{5651:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var i=r(5043),a=r(7420),s=r(4196),n=r(1395),c=r(6581),o=r(4282),l=r(7063),d=r(7154),m=r(579);const u=()=>{const{orders:e}=(0,i.useContext)(a.t),[t,r]=(0,i.useState)(!1),[u,h]=(0,i.useState)({id:"",title:"",description:"",category:"",price:"",image:""}),p=e=>{h({...u,[e.target.name]:e.target.value})};return(0,m.jsxs)("div",{children:[(0,m.jsxs)(s.A,{responsive:!0,className:"product-table container",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"Product"}),(0,m.jsx)("th",{children:"Title"}),(0,m.jsx)("th",{children:"Description"}),(0,m.jsx)("th",{children:"Category"}),(0,m.jsx)("th",{children:"Price"}),(0,m.jsx)("th",{children:"Actions"})]})}),(0,m.jsx)("tbody",{children:e.map((t=>(0,m.jsxs)("tr",{className:"cart-item",id:"cart-item-".concat(t.id),children:[(0,m.jsx)("td",{children:(0,m.jsx)("img",{src:t.image?t.image:l.U.PLACEHOLDER_IMAGE,alt:t.title})}),(0,m.jsx)("td",{children:t.title}),(0,m.jsx)("td",{children:t.description}),(0,m.jsx)("td",{children:t.category}),(0,m.jsx)("td",{children:t.price}),(0,m.jsx)("td",{children:(0,m.jsxs)("div",{className:"action-buttons",children:[(0,m.jsx)(o.A,{onClick:()=>(t=>{r(!0);const i=e.find((e=>e.id===t));h({id:i.id,title:i.title,description:i.description,category:i.category,price:i.price})})(t.id),variant:"info",children:"Edit"}),(0,m.jsx)(o.A,{variant:"warning",onClick:()=>{return e=t.id,void d.A.delete(l.U.DELETE_PRODUCT+e).then((t=>{console.log(t),alert("Product removed"),document.getElementById("cart-item-".concat(e)).remove()})).catch((e=>{console.log(e)}));var e},children:"Remove"})]})})]},t.id)))})]}),(0,m.jsxs)(n.A,{size:"lg",show:t,onHide:()=>r(!1),children:[(0,m.jsx)(n.A.Header,{closeButton:!0,children:(0,m.jsx)(n.A.Title,{children:"Edit Product"})}),(0,m.jsx)(c.A,{children:(0,m.jsx)("div",{className:"container",children:(0,m.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t={id:u.id,title:u.title,description:u.description,category:u.category,price:u.price,image:u.image};d.A.put(l.U.UPDATE_PRODUCT,t).then((e=>{console.log(e),alert("Product updated"),r(!1)})).catch((e=>{console.log(e)}))},children:[(0,m.jsxs)("div",{className:"form-field",children:[(0,m.jsx)("label",{htmlFor:"title",children:"Title"}),(0,m.jsx)("input",{id:"title",type:"text",name:"title",value:u.title,onChange:p})]}),(0,m.jsxs)("div",{className:"form-field",children:[(0,m.jsx)("label",{htmlFor:"description",children:"Description"}),(0,m.jsx)("input",{id:"description",type:"text",name:"description",value:u.description,onChange:p})]}),(0,m.jsxs)("div",{className:"form-field",children:[(0,m.jsx)("label",{htmlFor:"category",children:"Category"}),(0,m.jsx)("input",{id:"category",type:"text",name:"category",value:u.category,onChange:p})]}),(0,m.jsxs)("div",{className:"form-field",children:[(0,m.jsx)("label",{htmlFor:"price",children:"Price"}),(0,m.jsx)("input",{id:"price",type:"text",name:"price",value:u.price,onChange:p})]}),(0,m.jsxs)("div",{className:"form-field",children:[(0,m.jsx)("label",{htmlFor:"image",children:"Image"}),(0,m.jsx)("input",{id:"image",type:"file",name:"image",value:u.image,onChange:p})]}),(0,m.jsx)(o.A,{type:"submit",children:"Save"}),(0,m.jsx)(o.A,{onClick:()=>r(!1),children:"Cancel"})]})})})]})]})};var h=r(7807);r(4702);const p=()=>{const{products:e}=(0,i.useContext)(h.Q),[t,r]=(0,i.useState)(!1),{isAdmin:s}=(0,i.useContext)(a.t),[c,p]=(0,i.useState)({title:"",description:"",category:"",price:"",image:""});console.log(s);const x=e=>{p({...c,[e.target.name]:e.target.value})};return(0,m.jsxs)("div",{className:s?"":"admin-pages",children:[(0,m.jsx)("h1",{children:"Admin Home"}),(0,m.jsx)(o.A,{variant:"primary",onClick:()=>r(!0),children:"Add Product"}),(0,m.jsx)("div",{className:"product-list container",children:e.map((e=>(0,m.jsxs)("div",{className:"product-admin",children:[(0,m.jsx)("img",{src:e.image,alt:e.title}),(0,m.jsx)("p",{children:e.title})]},e.id)))}),(0,m.jsxs)(n.A,{show:t,onHide:()=>r(!1),children:[(0,m.jsx)(n.A.Header,{closeButton:!0,children:(0,m.jsx)(n.A.Title,{children:"Add Product"})}),(0,m.jsx)(n.A.Body,{children:(0,m.jsxs)("form",{onSubmit:e=>{e.preventDefault(),d.A.post(l.U.ADD_PRODUCT,c).then((e=>{console.log(e),alert("Product added"),p({title:"",description:"",category:"",price:"",image:""}),r(!1)})).catch((e=>{console.log(e)}))},children:[(0,m.jsxs)("div",{className:"form-field",children:[(0,m.jsx)("label",{htmlFor:"productTitle",children:"Title"}),(0,m.jsx)("input",{id:"productTitle",type:"text",name:"title",value:c.title,onChange:x})]}),(0,m.jsxs)("div",{className:"form-field",children:[(0,m.jsx)("label",{htmlFor:"productDescription",children:"Description"}),(0,m.jsx)("input",{id:"productDescription",type:"text",name:"description",value:c.description,onChange:x})]}),(0,m.jsxs)("div",{className:"form-field",children:[(0,m.jsx)("label",{htmlFor:"productCategory",children:"Category"}),(0,m.jsx)("input",{id:"productCategory",type:"text",name:"category",value:c.category,onChange:x})]}),(0,m.jsxs)("div",{className:"form-field",children:[(0,m.jsx)("label",{htmlFor:"productPrice",children:"Price"}),(0,m.jsx)("input",{id:"productPrice",type:"text",name:"price",value:c.price,onChange:x})]}),(0,m.jsxs)("div",{className:"form-field",children:[(0,m.jsx)("label",{htmlFor:"productImage",children:"Image"}),(0,m.jsx)("input",{id:"productImage",type:"file",name:"image",value:c.image,onChange:x})]}),(0,m.jsx)(o.A,{variant:"primary",type:"submit",children:"Add Product"}),(0,m.jsx)(o.A,{variant:"secondary",onClick:()=>r(!1),children:"Close"})]})})]}),(0,m.jsx)("h1",{children:"Orders"}),(0,m.jsx)(u,{})]})}},4282:(e,t,r)=>{r.d(t,{A:()=>d});var i=r(8139),a=r.n(i),s=r(5043),n=r(4140),c=r(7852),o=r(579);const l=s.forwardRef(((e,t)=>{let{as:r,bsPrefix:i,variant:s="primary",size:l,active:d=!1,disabled:m=!1,className:u,...h}=e;const p=(0,c.oU)(i,"btn"),[x,{tagName:g}]=(0,n.Am)({tagName:r,disabled:m,...h}),j=g;return(0,o.jsx)(j,{...x,...h,ref:t,disabled:m,className:a()(u,p,d&&"active",s&&"".concat(p,"-").concat(s),l&&"".concat(p,"-").concat(l),h.href&&m&&"disabled")})}));l.displayName="Button";const d=l},1395:(e,t,r)=>{r.d(t,{A:()=>I});var i,a=r(8139),s=r.n(a),n=r(3043),c=r(8279),o=r(182),l=r(8260);function d(e){if((!i&&0!==i||e)&&c.A){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),i=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return i}var m=r(2667),u=r(1456),h=r(8293),p=r(9109),x=r(4232),g=r(5043),j=r(2706),f=r(5675),v=r(8072),y=r(6581),b=r(1602),A=r(7852),N=r(579);const C=g.forwardRef(((e,t)=>{let{bsPrefix:r,className:i,contentClassName:a,centered:n,size:c,fullscreen:o,children:l,scrollable:d,...m}=e;r=(0,A.oU)(r,"modal");const u="".concat(r,"-dialog"),h="string"===typeof o?"".concat(r,"-fullscreen-").concat(o):"".concat(r,"-fullscreen");return(0,N.jsx)("div",{...m,ref:t,className:s()(u,i,c&&"".concat(r,"-").concat(c),n&&"".concat(u,"-centered"),d&&"".concat(u,"-scrollable"),o&&h),children:(0,N.jsx)("div",{className:s()("".concat(r,"-content"),a),children:l})})}));C.displayName="ModalDialog";const w=C,P=g.forwardRef(((e,t)=>{let{className:r,bsPrefix:i,as:a="div",...n}=e;return i=(0,A.oU)(i,"modal-footer"),(0,N.jsx)(a,{ref:t,className:s()(r,i),...n})}));P.displayName="ModalFooter";const E=P;var D=r(1833);const R=g.forwardRef(((e,t)=>{let{bsPrefix:r,className:i,closeLabel:a="Close",closeButton:n=!1,...c}=e;return r=(0,A.oU)(r,"modal-header"),(0,N.jsx)(D.A,{ref:t,...c,className:s()(i,r),closeLabel:a,closeButton:n})}));R.displayName="ModalHeader";const T=R;const k=(0,r(4488).A)("h4"),F=g.forwardRef(((e,t)=>{let{className:r,bsPrefix:i,as:a=k,...n}=e;return i=(0,A.oU)(i,"modal-title"),(0,N.jsx)(a,{ref:t,className:s()(r,i),...n})}));F.displayName="ModalTitle";const U=F;function S(e){return(0,N.jsx)(v.A,{...e,timeout:null})}function H(e){return(0,N.jsx)(v.A,{...e,timeout:null})}const O=g.forwardRef(((e,t)=>{let{bsPrefix:r,className:i,style:a,dialogClassName:v,contentClassName:y,children:C,dialogAs:P=w,"data-bs-theme":E,"aria-labelledby":D,"aria-describedby":R,"aria-label":T,show:k=!1,animation:F=!0,backdrop:U=!0,keyboard:O=!0,onEscapeKeyDown:I,onShow:B,onHide:_,container:M,autoFocus:z=!0,enforceFocus:L=!0,restoreFocus:W=!0,restoreFocusOptions:K,onEntered:G,onExit:Q,onExiting:q,onEnter:J,onEntering:V,onExited:X,backdropClassName:Y,manager:Z,...$}=e;const[ee,te]=(0,g.useState)({}),[re,ie]=(0,g.useState)(!1),ae=(0,g.useRef)(!1),se=(0,g.useRef)(!1),ne=(0,g.useRef)(null),[ce,oe]=(0,m.A)(),le=(0,h.A)(t,oe),de=(0,u.A)(_),me=(0,A.Wz)();r=(0,A.oU)(r,"modal");const ue=(0,g.useMemo)((()=>({onHide:de})),[de]);function he(){return Z||(0,f.R)({isRTL:me})}function pe(e){if(!c.A)return;const t=he().getScrollbarWidth()>0,r=e.scrollHeight>(0,o.A)(e).documentElement.clientHeight;te({paddingRight:t&&!r?d():void 0,paddingLeft:!t&&r?d():void 0})}const xe=(0,u.A)((()=>{ce&&pe(ce.dialog)}));(0,p.A)((()=>{(0,l.A)(window,"resize",xe),null==ne.current||ne.current()}));const ge=()=>{ae.current=!0},je=e=>{ae.current&&ce&&e.target===ce.dialog&&(se.current=!0),ae.current=!1},fe=()=>{ie(!0),ne.current=(0,x.A)(ce.dialog,(()=>{ie(!1)}))},ve=e=>{"static"!==U?se.current||e.target!==e.currentTarget?se.current=!1:null==_||_():(e=>{e.target===e.currentTarget&&fe()})(e)},ye=(0,g.useCallback)((e=>(0,N.jsx)("div",{...e,className:s()("".concat(r,"-backdrop"),Y,!F&&"show")})),[F,Y,r]),be={...a,...ee};be.display="block";return(0,N.jsx)(b.A.Provider,{value:ue,children:(0,N.jsx)(j.A,{show:k,ref:le,backdrop:U,container:M,keyboard:!0,autoFocus:z,enforceFocus:L,restoreFocus:W,restoreFocusOptions:K,onEscapeKeyDown:e=>{O?null==I||I(e):(e.preventDefault(),"static"===U&&fe())},onShow:B,onHide:_,onEnter:(e,t)=>{e&&pe(e),null==J||J(e,t)},onEntering:(e,t)=>{null==V||V(e,t),(0,n.Ay)(window,"resize",xe)},onEntered:G,onExit:e=>{null==ne.current||ne.current(),null==Q||Q(e)},onExiting:q,onExited:e=>{e&&(e.style.display=""),null==X||X(e),(0,l.A)(window,"resize",xe)},manager:he(),transition:F?S:void 0,backdropTransition:F?H:void 0,renderBackdrop:ye,renderDialog:e=>(0,N.jsx)("div",{role:"dialog",...e,style:be,className:s()(i,r,re&&"".concat(r,"-static"),!F&&"show"),onClick:U?ve:void 0,onMouseUp:je,"data-bs-theme":E,"aria-label":T,"aria-labelledby":D,"aria-describedby":R,children:(0,N.jsx)(P,{...$,onMouseDown:ge,className:v,contentClassName:y,children:C})})})})}));O.displayName="Modal";const I=Object.assign(O,{Body:y.A,Header:T,Title:U,Footer:E,Dialog:w,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},6581:(e,t,r)=>{r.d(t,{A:()=>l});var i=r(5043),a=r(8139),s=r.n(a),n=r(7852),c=r(579);const o=i.forwardRef(((e,t)=>{let{className:r,bsPrefix:i,as:a="div",...o}=e;return i=(0,n.oU)(i,"modal-body"),(0,c.jsx)(a,{ref:t,className:s()(r,i),...o})}));o.displayName="ModalBody";const l=o},4196:(e,t,r)=>{r.d(t,{A:()=>o});var i=r(8139),a=r.n(i),s=r(5043),n=r(7852),c=r(579);const o=s.forwardRef(((e,t)=>{let{bsPrefix:r,className:i,striped:s,bordered:o,borderless:l,hover:d,size:m,variant:u,responsive:h,...p}=e;const x=(0,n.oU)(r,"table"),g=a()(i,x,u&&"".concat(x,"-").concat(u),m&&"".concat(x,"-").concat(m),s&&"".concat(x,"-").concat("string"===typeof s?"striped-".concat(s):"striped"),o&&"".concat(x,"-bordered"),l&&"".concat(x,"-borderless"),d&&"".concat(x,"-hover")),j=(0,c.jsx)("table",{...p,className:g,ref:t});if(h){let e="".concat(x,"-responsive");return"string"===typeof h&&(e="".concat(e,"-").concat(h)),(0,c.jsx)("div",{className:e,children:j})}return j}))},4702:()=>{}}]);
//# sourceMappingURL=651.b0131e16.chunk.js.map