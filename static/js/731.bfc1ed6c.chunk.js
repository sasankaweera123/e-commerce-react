"use strict";(self.webpackChunke_commerce_react=self.webpackChunke_commerce_react||[]).push([[731],{6731:(e,r,t)=>{t.r(r),t.d(r,{default:()=>u});var s=t(5043),c=t(7807),d=t(7420),n=t(4196),a=t(4282),i=t(7154),o=t(7063),l=t(579);const h=()=>{const{products:e}=(0,s.useContext)(c.Q),{users:r,productOrders:t}=(0,s.useContext)(d.t),h=["Order Placed","Order Confirmed","Order Shipped","Order Delivered","Order Cancelled"],[u,x]=(0,s.useState)({productId:"",userId:"",status:""}),p=e=>{x({...u,status:e.target.value})},j=r=>{let t=0;return r.products.forEach((r=>{const s=e.find((e=>e.id===r.productId));s&&(t+=r.quantity*s.price)})),t};return(0,l.jsx)("div",{className:"container",children:(0,l.jsx)("div",{className:"product-orders",children:(0,l.jsxs)(n.A,{striped:!0,bordered:!0,hover:!0,children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"User Name"}),(0,l.jsx)("th",{children:"Product Name"}),(0,l.jsx)("th",{children:"Product Quantity"}),(0,l.jsx)("th",{children:"Total Price"}),(0,l.jsx)("th",{children:"Order Date"}),(0,l.jsx)("th",{children:"Order Status"})]})}),(0,l.jsx)("tbody",{children:t.map((t=>{return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:r.find((e=>e.id===t.userId)).name}),(0,l.jsx)("td",{children:(0,l.jsx)("ul",{children:t.products.map((r=>{const t=e.find((e=>e.id===r.productId));return(0,l.jsx)("li",{children:t?t.title:"Unknown Product"},r.productId)}))})}),(0,l.jsx)("td",{children:(0,l.jsx)("ul",{children:t.products.map((e=>(0,l.jsx)("li",{children:e.quantity},e.productId)))})}),(0,l.jsxs)("td",{children:["$",j(t)]}),(0,l.jsx)("td",{children:(s=t.date,new Date(s).toLocaleDateString())}),(0,l.jsxs)("td",{children:[(0,l.jsx)("select",{onChange:p,children:h.map((e=>(0,l.jsx)("option",{value:e,children:e},e)))}),(0,l.jsx)(a.A,{onClick:()=>(t.id,void i.A.put(o.U.UPDATE_PRODUCT,u).then((e=>{console.log(e),alert("Order status updated")})).catch((e=>{console.log(e)}))),children:"Update"})]})]},t.id);var s}))})]})})})};t(4702);const u=()=>{const{isAdmin:e}=(0,s.useContext)(d.t);return(0,l.jsxs)("div",{className:e?"":"admin-pages",children:[(0,l.jsx)("h1",{children:"Admin Products"}),(0,l.jsx)(h,{})]})}},4282:(e,r,t)=>{t.d(r,{A:()=>l});var s=t(8139),c=t.n(s),d=t(5043),n=t(4140),a=t(7852),i=t(579);const o=d.forwardRef(((e,r)=>{let{as:t,bsPrefix:s,variant:d="primary",size:o,active:l=!1,disabled:h=!1,className:u,...x}=e;const p=(0,a.oU)(s,"btn"),[j,{tagName:m}]=(0,n.Am)({tagName:t,disabled:h,...x}),v=m;return(0,i.jsx)(v,{...j,...x,ref:r,disabled:h,className:c()(u,p,l&&"active",d&&"".concat(p,"-").concat(d),o&&"".concat(p,"-").concat(o),x.href&&h&&"disabled")})}));o.displayName="Button";const l=o},4196:(e,r,t)=>{t.d(r,{A:()=>i});var s=t(8139),c=t.n(s),d=t(5043),n=t(7852),a=t(579);const i=d.forwardRef(((e,r)=>{let{bsPrefix:t,className:s,striped:d,bordered:i,borderless:o,hover:l,size:h,variant:u,responsive:x,...p}=e;const j=(0,n.oU)(t,"table"),m=c()(s,j,u&&"".concat(j,"-").concat(u),h&&"".concat(j,"-").concat(h),d&&"".concat(j,"-").concat("string"===typeof d?"striped-".concat(d):"striped"),i&&"".concat(j,"-bordered"),o&&"".concat(j,"-borderless"),l&&"".concat(j,"-hover")),v=(0,a.jsx)("table",{...p,className:m,ref:r});if(x){let e="".concat(j,"-responsive");return"string"===typeof x&&(e="".concat(e,"-").concat(x)),(0,a.jsx)("div",{className:e,children:v})}return v}))},4702:()=>{}}]);
//# sourceMappingURL=731.bfc1ed6c.chunk.js.map